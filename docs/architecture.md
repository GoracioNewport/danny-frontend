# Описание и обоснование архитектуры программы

## Описание архитектуры программы

Игра является клиент-серверным приложением для игры в браузере. Бэкенд приложения отвечает за систему комнат и игровую логику, включая обеспечение соблюдения правил игры. Фронтенд служит для предоставления пользователю интерфейса для взаимодействия с функционалом бэкенда.
Фронтенд проекта написан на языке TypeScript с использованием фреймворка Next.js. Основные компоненты архитектуры:

1. **Роутинг и страницы**
   - Используется встроенный в Next.js App Router
   - Страницы организованы в соответствии с игровыми состояниями:
     - Главная страница (`/`)
     - Создание игры (`/create-game`)
     - Присоединение к игре (`/join-game`)
     - Лобби (`/lobby`)
     - Игровой процесс (`/game`)
     - Правила (`/rules`)

2. **Компонентная структура**
   - Компоненты организованы в иерархию:
     - UI компоненты (базовые элементы интерфейса)
     - Игровые компоненты (карты, игровое поле)
     - Компоненты страниц (композиция UI и игровых компонентов)
   - Используется библиотека Radix UI для базовых компонентов
   - Стилизация через Tailwind CSS

3. **Управление состоянием**
   - Используется Zustand для глобального состояния
   - Состояние разделено на модули:
     - Игровая комната
     - Игровой процесс

4. **Взаимодействие с сервером**
   - Используется WebSocket для real-time коммуникации
   - Модуль `websocket.ts` отвечает за:
     - Установку и поддержание соединения
     - Отправку сообщений
     - Обработку входящих сообщений
   - Все сообщения форматируются в JSON

5. **Хранение данных**
   - Статические ресурсы (изображения карт, иконки) хранятся в `/public`
   - Кэширование происходит через Next.js встроенные механизмы

## Обоснование архитектуры программы

Ниже представлены основные плюсы выбранных для разработки технологий и архитектурных подходов

### Технологии

1. **TypeScript**
   - Строгая типизация для уменьшения ошибок
   - Международный стандарт, поддерживаемый браузерами
   - Обширное сообщество разработчиков

2. **Next.js**
   - Встроенная оптимизация производительности
   - Встроенная система роутинга
   - Серверный рендеринг для улучшения SEO
   - Готовые решения для типичных задач

3. **Zustand**
   - Минимальный бойлерплейт
   - Легкая интеграция с TypeScript

4. **Tailwind CSS**
   - Быстрая верстка благодаря заготовленным CSS-классам
   - Единая стилистика и дизайн
   - Оптимизация размера бандла

### Архитектурные решения

1. **Модульная структура**
   - Разделение ответственности
   - Упрощение тестирования
   - Возможность переиспользования кода

2. **WebSocket для игрового процесса**
   - Real-time коммуникация
   - Поддержка двусторонней связи
   - Стандартизированный протокол

3. **Типизация данных**
   - Исключение ошибок во время исполнения, связанных с типами данных
   - Поддержка IDE: автодополнение, автоматический рефакторинг